{% extends 'index.html' %}
{% load staticfiles %}

        <a class="btn-floating btn-large waves-effect waves-light #26a69a add btn tooltipped" data-position="left" data-delay="50" data-tooltip="Add a Book" href="{% url 'add-book' %}"><i class="mdi-content-add"></i></a> 
    <div class="search-box">
        <form>
            <div class="input-field">
                <input id="filter" type="text" value="" required>
                <span id="filter-count"></span>
                <label for="filter"><i class="mdi-action-search"></i></label>
            </div>
        </form>
    </div>
{% block content %}
    <!--<a class="btn-floating btn-large waves-effect waves-light #26a69a add btn tooltipped" data-position="left" data-delay="50" data-tooltip="Add a Book" href="{% url 'add-book' %}"><i class="mdi-content-add"></i></a>-->
    <div class="search-box">
        <form>
            <div class="input-field">
                <input id="filter" type="text" value="" required>
                <span id="filter-count"></span>
                <label for="filter"><i class="mdi-action-search"></i></label>
            </div>
        </form>
    </div>

    <div class="jobs-container">
        <table class="striped responsive hoverable">
            <thead>
                <th>TITLE</th>
                <th>AUTHOR</th>
                <th>CATEGORY</th>
                <th>QUANTITY</th>
                <th>AVAILABLE</th>
            </thead>
            <tbody>
                {% for book in object_list %}   
                    <tr class='list'>
                        <td><a href="/detail/{{book.id}}"><p class="truncate">{{book.title}}</p></a></td>
                        <td>{{book.author}}</td>
                        <td>{{book.category}}</td>
                        <td>{{book.quantity}}</td>
                        <td>{{book.num_book_available}}</td>
                        {% if book.num_book_available >= 1 %}
                            <td><a href="#modal1" class="waves-effect waves-light modal-trigger" ><button>lend</button></a></td>
                        {% else %}
                            <td><a href="#modal1" class="waves-effect waves-light modal-trigger disabled" ><button type="button" disabled>unavalable</button></a></td>
                        {% endif %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div id="modal1" class="modal del-modal">
      <div class="modal-content">
        <h4 class="modal-header">Lend Book</h4>
            <div class="add-form">
                <form class="book-add" method="post">
                   {% csrf_token %}
                   <style>select { display: block; }</style>
                   {{ form }}
                    
                    <label for="id_borrowed_date">Date Borrowed: </label>
                    <input id = "id_borrowed_date" type="date" name="borrowed_date" value="{{ book.date_recieved }}" >
                    <label for="id_due_date">Due Date: </label>
                    <input id = "id_due_date" type="date" name="due_date" value="{{ current_due_date }}">
                    <button class="btn waves-effect waves-light" type="submit" name="action">Lend Book
                      <i class="mdi-content-send right"></i>
                    </button>
                </form> 
                <a href="/home/" class="cancel">Cancel</a>
            </div>
          </div>
        </div>




<div><a class="waves-effect waves-light btn-large borrow btn tooltipped" data-position="right" data-delay="50" data-tooltip="Add a Book"  href="{% url 'add-book' %}">Add a Book</a></div> 
{% endblock content %}
